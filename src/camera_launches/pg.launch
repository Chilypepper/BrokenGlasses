<launch>

<arg name="camera_serial" default="0" />
<arg name="calibrated" default="0" />

<group ns="left" >
    <node pkg="nodelet" type="nodelet" name="left_manager" args="manager" />
    <node pkg="nodelet" type="nodelet" name="camera_nodelet" args="load pointgrey_camera_driver/PointGreyCameraNodelet left_manager">
    	<param name="frame_id" value="left_camera"/>
    	<param name="serial" value="14432788"/>
    	<param name="camera_info_url" if="$(arg calibrated)"
	value="file://$(env HOME)/.ros/camera_info/$(arg camera_serial).yaml" />
	</node>
    <node pkg="nodelet" type="nodelet" name="image_proc_debayer" args="load image_proc/debayer left_manager">

    <!--
        <param name="bayer_pattern" value="rggb" />
        <param name="guid" value="00b09d0100c8851b" />
        <remap from="image_color" to="camera/image_color" />
        <remap from="image_mono" to="camera/image_mono" />
        <remap from="image_raw" to="camera/image_raw" />
    -->
    </node>
    <node ns="camera" pkg="image_proc" type="image_proc" name="image_proc" />
</group>
<group ns="right" >
    <node pkg="nodelet" type="nodelet" name="right_manager" args="manager" />
    <node pkg="nodelet" type="nodelet" name="camera_nodelet" args="load pointgrey_camera_driver/PointGreyCameraNodelet right_manager">
    	<param name="frame_id" value="right_camera"/>
    	<param name="serial" value="14490542"/>
    	<param name="camera_info_url" if="$(arg calibrated)"
	    value="file://$(env HOME)/.ros/camera_info/$(arg camera_serial).yaml" />
	</node>
    <node pkg="nodelet" type="nodelet" name="image_proc_debayer" args="load image_proc/debayer right_manager">

    <!--
        <param name="bayer_pattern" value="rggb" />
        <param name="guid" value="00b09d0100c8851b" />
        <remap from="image_color" to="camera/image_color" />
        <remap from="image_mono" to="camera/image_mono" />
        <remap from="image_raw" to="camera/image_raw" />
    -->
    </node>
    <node ns="camera" pkg="image_proc" type="image_proc" name="image_proc" />
</group>
</launch>